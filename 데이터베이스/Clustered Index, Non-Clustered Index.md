  

### Clustered Index

**테이블 전체가 정렬된 인덱스가 되는 방식**의 인덱스 종류

**실제 데이터와 무리(cluster)를 지어 인덱싱**

데이터와 함께 **전체 테이블이 물리적으로 정렬**

클러스터형 인덱스는 **테이블당 하나**만 생성  
  

  
  

![[image 293.png]]

  

### **Non-Clustered Index**

논클러스터형 인덱스는 보조 인덱스(Secondary Index)라고도 불리며, 클러스터형 인덱스와 다르게 **물리적으로 테이블을 정렬하지 않는다**. 

**정렬된 별도의 인덱스 페이지를 생성하고 관리**

  

![[image 294.png]]

**인덱스 페이지와 데이터 페이지가 구분**

루트 페이지는 클러스터형 인덱스와 비슷하게 인덱스에 대한 컬럼과 페이지 번호를 가진다.

리프 페이지는 조금 다르다. 인덱스 컬럼을 가지고 있는 것은 비슷하지만, 데이터를 직접 가지고 있지 않으며 **데이터 페이지의 특정 행을 가리킨다**.  
  
인덱스 페이지는 정렬되어 있지만, 실제 데이터 페이지는 정렬되지 않으므로 클러스터형 인덱스에 비해 삽입, 수정, 삭제 작업이 비교적 빠르다.  

  

### Clustered Index와 Non-Clustered Index의 혼합

![[image 295.png]]

 **비클러스터형 인덱스를 먼저 거치고, 이어 클러스터형 인덱스를 거쳐 데이터를 찾는다**. 

  

위 그림은 `**rank**` 컬럼을 PK로 지정하고, 추가로 `**language**` 컬럼에 대해 비클러스터형 인덱스를 생성한 모습이다. 비클러스터형 인덱스의 인덱스 페이지는 `**language**` 컬럼을 기준으로 잘 정렬되어 있다. 그리고 `**데이터 페이지 번호 + #오프셋**` 대신 `**rank**` 컬럼 값을 가지고 있는 것을 확인할 수 있다.  
  
이   
`**rank**` 값을 가지고 클러스터형 인덱스에서 탐색을 하게 된다.  
  
즉 논클러스터드 인덱스가 pk의 값을 가지고 있고 PK를 따라 해당 데이터 값을 찾는 것임


**출처 : https://hudi.blog/