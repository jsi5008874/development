  

### B Tree 데이터 삽입

![[image 332.png]]

노드가 넘친다는 것은 노드가 가질 수 있는 최대 키의 수(M-1) 보다 많아질 때

죄우 키들은 분할하고 가운데 키를 승진 시킨다는 뜻

  

### B Tree 삽입 예시(3차 B Tree)

  

![[image 333.png]]

1, 15가 있는 루트 노드에 2를 추가한다면

  

![[image 334.png]]

이렇게 되는데 문제는 3차 B Tree여서 최대 키는 2개이다.

따라서 분할을 해줘야 하는데 이 때 좌우 키를 분할하고 가운데 키를 승진시키는 규칙을 적용

  

![[image 335.png]]

이런 형태로 변경이 된다.

가운데 키인 2가 루트 노드가 되고 1, 15는 각각 좌우 자녀 노드로 분할 되는 것이다.

  

![[image 336.png]]

여기서 30을 추가한다면

  

![[image 337.png]]

15를 승진시키고 5, 30 이 좌우로 분할된다.

  

![[image 338.png]]

최종적으로 이런 모습을 가지게 된다..

  

![[image 339.png]]

계속 추가하다가 이런 형태가 된다면

  

![[image 340.png]]

중간 값을 승진 시켰지만 승진 시킨 노드에서도 키가 넘치는 상황이 되었다.

  

![[image 341.png]]

이렇게 중간 값을 또 승진 시켜서 루트 노드로 만들고 분할을 해서 규칙을 맞춘다.

  

![[image 342.png]]

계속 추가를 하다 보면 한 가지 특징이 있는데

바로 모든 leaf 노드들은 같은 레벨에 있다는 특징이다.


**출처 : 유튜브 쉬운코드 https://www.youtube.com/@ezcd